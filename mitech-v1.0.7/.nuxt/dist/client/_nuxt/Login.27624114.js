import{v as f,p as m,_ as x}from"./entry.0cdb93ce.js";import{a as w,u as b,s as y}from"./state.4da28978.js";import{a as k}from"./axios.28bc18a3.js";import{_ as L}from"./login.f65b5d95.js";import{aJ as C,G as N,L as _,T,a0 as V,a1 as t,ag as n,n as D,af as U,$ as B,aj as P,y as G}from"./_plugin-vue_export-helper.2c3522c3.js";const H={name:"login",setup(){const i=G();let e=null;i!=null&&(e=i.appContext.config.globalProperties);let a=N({name:"",password:""}),s=_("false"),l=_("false"),r=_("false"),c="http://121.36.19.201/api/login/";const o=async()=>{const p={username:a.name,password:a.password};console.log(p),r.value="false",await k.post(c,p).then(d=>{console.log(d.data);var h=w();h.value=d.data.token;var v=b();v.value=a.name,y(),e.$router.push("/")}).catch(d=>{r.value="true"})},g=()=>{s.value="false",l.value="false",a.name?a.password?u():l.value="true":s.value="true"},u=()=>{o()};return T(()=>{console.log("the component is now mounted.")}),{getData:o,form:a,noName:s,noPassWord:l,handleClickLogin:g,handleLogin:u,wrongData:r,url:c}}},I={class:"full-screen-background"},M={class:"container",style:{transform:"scale(1.25)"}},S={class:"row align-items-center",style:{"padding-top":"150px"}},W=t("div",{class:"col-lg-7"},[t("div",{class:"image"},[t("img",{class:"img-fluid loginimg",src:L,alt:"image"})])],-1),j={class:"business-solution-form-wrap me-auto ms-auto"},E=t("div",{class:"contact-title text-center section-space--mb_40"},[t("h5",{class:"mb-10"},"登录"),t("p",{class:"text"},"欢迎来到SCHOLIGHT")],-1),J={method:"post"},O={class:"contact-form__two"},q={class:"contact-inner"},z={class:"text",style:{color:"red"}},A={class:"contact-inner"},F={class:"text",style:{color:"red"}},K={class:"text",style:{color:"red"}},Q={class:"button-text"},R=t("span",{class:"button-icon ml-1"},[t("i",{class:"fas fa-arrow-right ms-1"})],-1),X={class:"comment-submit-btn text-center"};function Y(i,e,a,s,l,r){const c=x;return B(),V("div",I,[t("div",M,[t("div",S,[W,t("div",j,[E,t("form",J,[t("div",O,[t("div",q,[n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.form.name=o),name:"name",type:"text",placeholder:"用户名 *"},null,512),[[f,s.form.name]]),n(t("p",z,"用户名不能为空",512),[[m,s.noName=="true"]])]),t("div",A,[n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.form.password=o),name:"email",type:"password",placeholder:"密码 *"},null,512),[[f,s.form.password]]),n(t("p",F,"密码不能为空",512),[[m,s.noPassWord=="true"]]),n(t("p",K,"用户名或密码错误",512),[[m,s.wrongData=="true"]])]),t("div",Q,[D(c,{to:"/register",class:"btn-text",style:{"padding-bottom":"20px"}},{default:U(()=>[P(" 还没有账号？立即注册 "),R]),_:1})]),t("div",X,[t("button",{class:"ht-btn ht-btn-custom",type:"button",onClick:e[2]||(e[2]=(...o)=>s.handleClickLogin&&s.handleClickLogin(...o))},"登录")])])])])])])])}const ot=C(H,[["render",Y]]);export{ot as default};
