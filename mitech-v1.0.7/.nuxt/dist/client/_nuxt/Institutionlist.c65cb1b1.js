import{_ as b}from"./Header.460fa155.js";import{_ as v}from"./Breadcrumbs.18353780.js";import{_ as x}from"./ChatBot.85e95aeb.js";import{_ as B,o as L}from"./entry.0cdb93ce.js";import{j as S,k as N,s as E,g as j}from"./state.4da28978.js";import{aJ as l,$ as r,a0 as c,n as d,af as F,a1 as a,ak as w,F as u,as as g,aa as p,ai as $}from"./_plugin-vue_export-helper.2c3522c3.js";import{a as f}from"./axios.28bc18a3.js";import{_ as y}from"./Footer.c5032859.js";import{_ as V}from"./OffCanvasMobileMenu.b67ad2ce.js";import"./HeaderTop.fc351d8a.js";/* empty css                                */const H={props:["teamMember"],methods:{storeIns(){console.log("storeIns!",this.teamMember.id);var s=S();s.value=this.teamMember.id;var t=N();t.value=this.teamMember.name,E()}}},K={class:"grid-item"},z={class:"team-image"},D=["src"],J={class:"team-info"},O={class:"name"};function P(s,t,i,e,o,_){const m=B;return r(),c("div",K,[d(m,{to:"/institution",class:"ht-member",onClick:t[0]||(t[0]=n=>_.storeIns())},{default:F(()=>[a("div",z,[a("img",{class:"img-fluid",src:i.teamMember.image,alt:"team member"},null,8,D)]),a("div",J,[a("h5",O,w(i.teamMember.name),1)])]),_:1})])}const I=l(H,[["render",P],["__scopeId","data-v-991b72b7"]]),R={components:{ShowInstitutions:I},data(){return{maxpage:1,pagelist:[1],nowpage:1,one_page:12,teamMembers:[],search:""}},mounted(){this.teamMembers=[];var s="http://121.36.19.201/api/get_institutions/?page="+this.$data.nowpage+"&per_page="+this.$data.one_page+"&sort=cited_by_count:desc";this.$data.search.length>0&&(s+="&search="+this.$data.search,this.$data.search=""),console.log(s),f.post(s,{},{headers:{"content-type":"application/json"}}).then(t=>{this.$data.maxpage=parseInt((t.data.meta.count+this.$data.one_page-1)/this.$data.one_page),console.log(this.$data.maxpage),this.$data.pagelist=[];var i=0;for(let e=this.$data.nowpage-1;e<=this.$data.maxpage&&(e>=1&&(this.$data.pagelist.push(e),i++),i!=4);e++);for(let e=0;e<t.data.results.length;e++)this.$data.teamMembers.push({name:t.data.results[e].display_name,image:t.data.results[e].image_url,id:t.data.results[e].id})}).catch(t=>{console.error("Error in search",t)})},methods:{updatepage(){this.teamMembers=[];var s="http://121.36.19.201/api/get_institutions/?page="+this.$data.nowpage+"&per_page="+this.$data.one_page+"&sort=cited_by_count:desc";this.$data.search.length>0&&(s+="&search="+this.$data.search,this.$data.search=""),console.log(s),f.post(s,{},{headers:{"content-type":"application/json"}}).then(t=>{this.$data.maxpage=parseInt((t.data.meta.count+this.$data.one_page-1)/this.$data.one_page),this.$data.pagelist=[];var i=0;for(let e=this.$data.nowpage-1;e<=this.$data.maxpage&&(e>=1&&(console.log(e),this.$data.pagelist.push(e),i++),i!=4);e++);for(let e=0;e<t.data.results.length;e++)this.$data.teamMembers.push({name:t.data.results[e].display_name,image:t.data.results[e].image_url,id:t.data.results[e].id})}).catch(t=>{console.error("Error in search",t)})},nextpage(){this.$data.nowpage=this.$data.nowpage+1,this.updatepage()},lastpage(){this.$data.nowpage=this.$data.nowpage-1,this.updatepage()},setpage(s){this.$data.nowpage=s,this.updatepage()},handleSearch(){var s=this.$refs.myinput.value;console.log(this.$refs.myinput.value),this.$data.search=s,this.$data.nowpage=1,this.updatepage()}}},T={class:"team-member-wrapper section-space--pt_70 section-space--pb_70"},q={class:"container"},A={class:"widget-search mb-30"},G=a("span",{class:"search-btn-icon fa fa-search"},null,-1),Q=[G],U={class:"row ht-team-member-style-three"},W={class:"ht-pagination mt-30 pagination justify-content-center"},X={class:"pagination-wrapper"},Y={class:"pagination"},Z=a("a",null,"PREV",-1),tt=[Z],et={key:0},at=["onClick"],st={key:1},nt=a("a",null,"Next",-1),ot=[nt];function it(s,t,i,e,o,_){const m=I;return r(),c("div",T,[a("div",q,[a("div",A,[a("input",{ref:"myinput",type:"text",placeholder:"Enter search keyword",onKeydown:t[0]||(t[0]=L(n=>_.handleSearch(),["enter"]))},null,544),a("button",{onClick:t[1]||(t[1]=n=>_.handleSearch()),type:"submit",class:"search-submit"},Q)]),a("div",U,[(r(!0),c(u,null,g(o.teamMembers,n=>(r(),c("div",{class:"col-lg-3 col-md-6 text-center wow move-up",key:n.id},[d(m,{teamMember:n},null,8,["teamMember"])]))),128))]),a("div",W,[a("div",X,[a("ul",Y,[a("li",{class:p(["page-item",{disabled:o.nowpage==1}]),onClick:t[2]||(t[2]=n=>_.lastpage())},tt,2),o.pagelist[0]!=1?(r(),c("li",et,"...")):$("",!0),(r(!0),c(u,null,g(o.pagelist,n=>(r(),c("li",{class:p(["page-item",{active:o.nowpage==n}]),key:n.id,onClick:h=>_.setpage(n)},[a("a",null,w(n),1)],10,at))),128)),o.pagelist[o.pagelist.length-1]!=o.maxpage?(r(),c("li",st,"...")):$("",!0),a("li",{class:p(["page-item",{disabled:o.nowpage==o.maxpage}]),onClick:t[3]||(t[3]=n=>_.nextpage())},ot,2)])])])])])}const k=l(R,[["render",it]]),rt={components:{ListInstitution:k,Breadcrumbs:v,Header:b,Footer:y,OffCanvasMobileMenu:V,ChatBot:x},mounted(){j()}},ct={class:"main-container"};function _t(s,t,i,e,o,_){const m=b,n=v,h=x,M=k,C=y;return r(),c("div",ct,[d(m),d(n,{items:"Institution List",breadcrumbTitle:"Institution List"}),d(h,{prompt:""}),d(M),d(C)])}const xt=l(rt,[["render",_t]]);export{xt as default};
